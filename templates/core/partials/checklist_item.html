<div id="checklist-{{ item.pk }}" class="flex items-center gap-3 p-2 rounded hover:bg-ch-gray group">
    <button hx-post="{% url 'checklist_toggle' item.pk %}"
            hx-target="#checklist-{{ item.pk }}"
            hx-swap="outerHTML"
            class="flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition
                   {% if item.is_completed %}bg-green-600 border-green-600 text-white{% else %}border-gray-500 hover:border-ch-gold{% endif %}">
        {% if item.is_completed %}
        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
        </svg>
        {% endif %}
    </button>
    <span class="flex-1 {% if item.is_completed %}line-through text-gray-500{% endif %}">
        {{ item.title }}
    </span>
    {% if item.is_completed and item.completed_by %}
    <span class="text-xs text-gray-500">
        {{ item.completed_by.display_name|default:item.completed_by.username }}
    </span>
    {% endif %}
    <button hx-delete="{% url 'checklist_delete' item.pk %}"
            hx-target="#checklist-{{ item.pk }}"
            hx-swap="outerHTML"
            hx-confirm="Delete this checklist item?"
            class="opacity-0 group-hover:opacity-100 text-gray-500 hover:text-red-400 transition">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
    </button>
</div>
