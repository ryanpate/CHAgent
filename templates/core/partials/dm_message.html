<div class="flex gap-3 {% if is_sender %}flex-row-reverse{% endif %}" id="dm-{{ message.id }}">
    <div class="w-10 h-10 bg-{% if is_sender %}ch-gold{% else %}gray-600{% endif %}/20 rounded-full flex items-center justify-center text-sm font-medium {% if is_sender %}text-ch-gold{% else %}text-gray-400{% endif %} flex-shrink-0">
        {{ message.sender.display_name|default:message.sender.username|slice:":1"|upper }}
    </div>
    <div class="max-w-[70%]">
        <div class="{% if is_sender %}bg-ch-gold/20 text-white{% else %}bg-ch-gray{% endif %} rounded-lg px-4 py-2">
            <p class="break-words">{{ message.content }}</p>
        </div>
        <p class="text-xs text-gray-500 mt-1 {% if is_sender %}text-right{% endif %}">
            {{ message.created_at|date:"g:i A" }}
        </p>
    </div>
</div>
